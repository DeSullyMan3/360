<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>360 Photo Menu</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-entity camera look-controls position="0 1.6 4"></a-entity>
      <a-entity id="menu"></a-entity>
    </a-scene>

    <script>
      fetch('dome/domes.json')
        .then(response => response.json())
        .then(images => {
          const menu = document.getElementById('menu');
          images.forEach((filename, index) => {
            const x = (index - images.length / 2) * 2.5;
            const imgEl = document.createElement('a-image');
            imgEl.setAttribute('src', `dome/${filename}`);
            imgEl.setAttribute('position', `${x} 1.6 -3`);
            imgEl.setAttribute('width', '2');
            imgEl.setAttribute('height', '1');
            imgEl.setAttribute('class', 'clickable');
            imgEl.setAttribute('event-set__click', `_target: window; _event: click; _value: location.href='dome.html#${filename}'`);
            menu.appendChild(imgEl);
          });
        });
    </script>
  </body>
</html>
